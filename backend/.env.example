# === Security / JWT ===
# IMPORTANT: Generate strong secret with: openssl rand -base64 32
JWT_SECRET=change_me_to_strong_random_secret
JWT_ISS=FamQuest
JWT_AUD=famquest.app
JWT_EXP_MIN=60  # Token expiration in minutes (60 = 1 hour)

# === Database ===
DATABASE_URL=sqlite:///./famquest.db
# or: postgresql+psycopg2://user:pass@host:5432/famquest

# === OAuth providers ===
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8000/auth/sso/google/callback

MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_REDIRECT_URI=http://localhost:8000/auth/sso/microsoft/callback

FACEBOOK_CLIENT_ID=
FACEBOOK_CLIENT_SECRET=
FACEBOOK_REDIRECT_URI=http://localhost:8000/auth/sso/facebook/callback

# === Apple Sign In (REQUIRED for iOS App Store) ===
# Get credentials from: https://developer.apple.com/account/
# 1. Create App ID with "Sign in with Apple" capability
# 2. Create Service ID for web/backend authentication
# 3. Generate .p8 private key for JWT signing
# NOTE: Private relay emails (@privaterelay.appleid.com) fully supported
APPLE_CLIENT_ID=com.famquest.app  # Service ID (not App ID)
APPLE_TEAM_ID=ABCD123456  # 10-character Team ID
APPLE_KEY_ID=ABCD123456  # 10-character Key ID from .p8 file
APPLE_PRIVATE_KEY=|-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----|
APPLE_REDIRECT_URI=http://localhost:8000/auth/sso/apple/callback

# === 2FA Configuration ===
# TOTP-based 2FA with backup codes (compatible with Google Authenticator, Authy, etc.)
# Rate limiting: 5 attempts per 15 minutes
# Backup codes: 10 single-use codes generated per user
# No additional configuration needed - works out of the box

# === OpenRouter AI ===
OPENROUTER_API_KEY=
# Get your API key from: https://openrouter.ai

# === Redis Cache ===
REDIS_URL=redis://localhost:6379/0
# For production: redis://default:password@host:port/0

# === AI Cost Monitoring ===
SLACK_WEBHOOK_URL=
# Optional: Get webhook URL from Slack for cost alerts

# === Notifications ===
FCM_SERVER_KEY=
WEBPUSH_VAPID_PUBLIC=
WEBPUSH_VAPID_PRIVATE=
WEBPUSH_CONTACT=mailto:info@famquest.app
APNS_TEAM_ID=
APNS_KEY_ID=
APNS_AUTH_KEY=|-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----|
APNS_BUNDLE_ID=app.famquest
APNS_USE_SANDBOX=true

# === Media storage ===
MEDIA_DIR=./uploads
PUBLIC_BASE=http://localhost:8000

# === Stripe Payment Integration ===
# Get credentials from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
# Webhook secret from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price IDs (create products in Stripe dashboard)
# Family Unlock: €9.99 one-time payment
STRIPE_PRICE_FAMILY_UNLOCK=price_...
# Premium Monthly: €4.99/month subscription
STRIPE_PRICE_MONTHLY=price_...
# Premium Yearly: €49.99/year subscription
STRIPE_PRICE_YEARLY=price_...

# Frontend URL for Stripe redirects
FRONTEND_URL=http://localhost:3000
